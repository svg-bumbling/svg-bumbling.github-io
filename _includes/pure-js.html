var colour = '#fa8100'
var opacity = 1
var filler = {
  color: colour,
  opacity: opacity
}

var logo = SVG('canvas')
logo.viewbox({
  x: 0,
  y: 0,
  width: 465,
  height: 200
})

var oh = logo.circle(200).move(0, 0).fill(filler)
var dee = logo.path('m 190 0 h 90 c 140 5, 140 195, 0 200, h -90').fill(filler)
var eye = logo.rect(90, 200).move(375, 0).fill(filler)
var labs = ''
var text = logo.text('labs').move(232, 10).fill('#ffffff')
text.font({
  family: 'Helvetica Neue',
  size: 100,
  anchor: 'middle'
})

var odi = logo.group()
odi.add(oh)
odi.add(dee)
odi.add(eye)
odi.add(text)

window.onload = function start() {
  pulse()
}

var odi_grad = gradient('#fa8100', '#000000', 512)
var text_grad = gradient('#ffffff', '#fa8100', 512)

function pulse() {
  var colour = ''
  var index = 0
  var interval = 10
  window.setInterval(function () {
    text.fill(text_grad[index])
    fill_group(odi_grad[index])
    index += 1
    if(index == odi_grad.length) {
      index = 0
    }
  }, interval)
}

function fill_group(colour) {
  oh.fill(colour)
  dee.fill(colour)
  eye.fill(colour)
}
